<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>RustyShare</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gradient-to-br from-stone-300 via-stone-100 to-white min-h-screen text-gray-900">

  <!-- Logo -->
  <div class="flex flex-col items-center mt-8 mb-4">
    <img src="/static/logo/logo-transparent.png" alt="RustyShare Logo" class="w-96 h-80 object-contain mb-2" />
  </div>

  <!-- Main layout with side buttons -->
  <div class="flex justify-center w-full relative">
    <!-- Centered main content block -->
    <div class="flex flex-col gap-6 w-full max-w-3xl relative">
      
      <!-- File grid with integrated header -->
      <div class="w-full bg-white bg-opacity-90 rounded shadow border border-blue-200">
        <!-- Integrated header with search and buttons -->
        <div class="flex flex-row items-center gap-4 justify-between p-4 border-b border-blue-200 bg-blue-50 bg-opacity-50">
          <!-- Search bar -->
          <input
            id="searchInput"
            type="text"
            placeholder="Search files..."
            class="flex-1 bg-white text-blue-900 rounded px-4 py-2 focus:outline-none focus:ring-2 focus:ring-blue-400 shadow-sm transition-all duration-200"
            autocomplete="off"
          />
          
          <!-- Action buttons -->
          <div class="flex gap-3">
            <button id="uploadBtn" class="bg-white border border-blue-200 text-blue-900 rounded-lg px-6 py-2 font-semibold shadow-sm hover:bg-blue-50 transition-all duration-200 whitespace-nowrap" type="button">
              Upload
            </button>
            <button id="createFolderBtn" class="bg-white border border-blue-200 text-blue-900 rounded-lg px-6 py-2 font-semibold shadow-sm hover:bg-blue-50 transition-all duration-200 whitespace-nowrap" type="button">
              Create Folder
            </button>
          </div>
        </div>
        <!-- File tree content -->
        <div id="tree" class="p-4 text-sm"></div>
      </div>

      <!-- Hidden Forms -->
      <div id="actionForms" class="w-full">
        <form id="uploadForm" dir="rtl" class="flex items-center gap-4 bg-white bg-opacity-80 rounded-lg px-6 py-4 shadow border border-blue-200 w-full mx-auto mb-4" enctype="multipart/form-data" style="display:none;">
          <input type="file" name="file" class="flex-1 bg-gray-100 text-blue-900 rounded px-4 py-2 focus:outline-none focus:ring-2 focus:ring-blue-400 text-right" required>
          <button type="submit" class="px-6 py-2 bg-blue-400 text-white rounded-lg font-semibold shadow hover:bg-blue-500 transition-all duration-200">Upload</button>
        </form>
        <form id="createFolderForm" class="flex items-center gap-2 bg-white bg-opacity-80 rounded-lg px-6 py-4 shadow border border-blue-200 w-full mx-auto" style="display:none;">
          <input type="text" id="newFolderName" placeholder="New folder name..." class="flex-1 bg-gray-100 text-blue-900 rounded px-4 py-2 focus:outline-none focus:ring-2 focus:ring-blue-400" required>
          <button type="submit" class="px-4 py-2 bg-green-500 text-white rounded-lg font-semibold shadow hover:bg-green-600 transition-all duration-200">Create Folder</button>
        </form>
      </div>
    </div>
  </div>

  <script type="module" src="/static/js/main.js"></script>
</body>
</html>
